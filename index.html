<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BillTracker ‚Äî Family Dashboard</title>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- AUTH (Login / Signup / Forgot) -->
  <div id="authWrap" class="auth-wrap">
    <div class="auth-card">
      <div class="auth-tabs">
        <button id="tabLogin" class="tab active">Login</button>
        <button id="tabSignup" class="tab">Sign Up</button>
      </div>

      <!-- Login form -->
      <form id="formLogin" class="auth-form">
        <h2 class="auth-title">Welcome back</h2>

        <input id="loginUser" type="text" placeholder="Username" required />
        <div class="pw-row">
          <input id="loginPass" type="password" placeholder="Password" required />
          <button type="button" class="eye-btn" data-target="loginPass">üëÅ</button>
        </div>

        <div class="auth-actions">
          <button id="loginBtn" class="btn primary" type="submit">Login</button>
          <button id="openForgot" type="button" class="btn ghost">Forgot?</button>
        </div>

        <p class="muted small">Your data stays on this browser only.</p>
      </form>

      <!-- Signup form -->
      <form id="formSignup" class="auth-form hidden">
        <h2 class="auth-title">Create account</h2>

        <input id="signupUser" type="text" placeholder="Choose username" required />
        <div class="pw-row">
          <input id="signupPass" type="password" placeholder="Choose password" required />
          <button type="button" class="eye-btn" data-target="signupPass">üëÅ</button>
        </div>

        <div class="auth-actions">
          <button id="signupBtn" class="btn primary" type="submit">Sign Up</button>
          <button id="backToLogin1" type="button" class="btn ghost">Back</button>
        </div>

        <p class="muted small">Create separate accounts for family members.</p>
      </form>

      <!-- Forgot form -->
      <form id="formForgot" class="auth-form hidden">
        <h2 class="auth-title">Reset password</h2>

        <input id="forgotUser" type="text" placeholder="Username" required />
        <div class="pw-row">
          <input id="forgotPass" type="password" placeholder="New password" required />
          <button type="button" class="eye-btn" data-target="forgotPass">üëÅ</button>
        </div>

        <div class="auth-actions">
          <button id="forgotBtn" class="btn primary" type="submit">Reset</button>
          <button id="backToLogin2" type="button" class="btn ghost">Back</button>
        </div>
      </form>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="app hidden">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">üèõÔ∏è</div>
        <div>
          <div class="brand-title">BillTracker</div>
          <div id="signedUser" class="muted small">Signed out</div>
        </div>
      </div>

      <nav class="nav">
        <button class="nav-btn active" data-view="reports">Reports</button>
        <button class="nav-btn" data-view="add">Add Bill</button>
        <button class="nav-btn" data-view="history">All Bills</button>
        <button class="nav-btn" data-view="export">Export</button>
      </nav>

      <div class="sidebar-foot">
        <button id="logout" class="btn ghost">Logout</button>
      </div>
    </aside>

    <main class="main">
      <!-- Summary header -->
      <header class="summary-row">
        <div class="summary-card">
          <div class="label">Total This Month</div>
          <div id="totalMonth" class="big gold">‚Çπ0</div>
        </div>
        <div class="summary-card">
          <div class="label">Total This Year</div>
          <div id="totalYear" class="big gold">‚Çπ0</div>
        </div>
        <div class="summary-card">
          <div class="label">Highest Bill (Year)</div>
          <div id="highestBill" class="big">‚Äî</div>
        </div>
      </header>

      <!-- Views -->
      <section id="viewReports" class="view">
        <div class="card">
          <div class="card-head">
            <h3>Quick Add</h3>
            <small class="muted">Add historic or current bills quickly</small>
          </div>

          <form id="quickAdd" class="form-inline">
            <select id="quickType">
              <option>Electricity</option>
              <option>Gas</option>
              <option>Internet</option>
            </select>
            <input id="quickAmount" type="number" step="0.01" placeholder="Amount ‚Çπ" />
            <input id="quickDate" type="month" />
            <select id="quickPaid"><option value="false">Unpaid</option><option value="true">Paid</option></select>
            <button class="btn primary" id="quickAddBtn" type="button">Add</button>
          </form>
        </div>

        <div class="cards-row">
          <div class="card stat-card gold-card">
            <div class="label">Electricity ‚Äî Total</div>
            <div id="sumElectricity" class="stat">‚Çπ0</div>
            <div class="mini">Avg: <span id="avgElec">‚Çπ0</span> ‚Ä¢ Max: <span id="maxElec">‚Çπ0</span> ‚Ä¢ Min: <span id="minElec">‚Çπ0</span></div>
          </div>

          <div class="card stat-card green-card">
            <div class="label">Gas ‚Äî Total</div>
            <div id="sumGas" class="stat">‚Çπ0</div>
            <div class="mini">Avg: <span id="avgGas">‚Çπ0</span> ‚Ä¢ Max: <span id="maxGas">‚Çπ0</span> ‚Ä¢ Min: <span id="minGas">‚Çπ0</span></div>
          </div>

          <div class="card stat-card blue-card">
            <div class="label">Internet ‚Äî Total</div>
            <div id="sumInternet" class="stat">‚Çπ0</div>
            <div class="mini">Avg: <span id="avgNet">‚Çπ0</span> ‚Ä¢ Max: <span id="maxNet">‚Çπ0</span> ‚Ä¢ Min: <span id="minNet">‚Çπ0</span></div>
          </div>
        </div>

        <div class="card charts-card">
          <div class="charts-top">
            <div>
              <button id="generateReport" class="btn primary">Generate Report</button>
              <button id="hideReport" class="btn ghost">Hide</button>
            </div>
            <div class="muted small">Charts update when you click Generate Report</div>
          </div>

          <div id="chartsArea" class="charts-area hidden">
            <div class="chart-card">
              <canvas id="monthlyChart"></canvas>
            </div>
            <div class="chart-card">
              <canvas id="categoryChart"></canvas>
            </div>
            <div class="chart-card small">
              <canvas id="pieChart"></canvas>
            </div>
          </div>
        </div>

        <div class="card insights">
          <h4>Insights</h4>
          <div id="insightHighestMonth" class="muted">Highest spending month: ‚Äî</div>
          <div id="insightLowestMonth" class="muted">Lowest spending month: ‚Äî</div>
          <div id="insightPercent" class="muted">Change vs last month: ‚Äî</div>
        </div>
      </section>

      <section id="viewAdd" class="view hidden">
        <div class="card">
          <h3>Add Full Bill</h3>
          <form id="addForm" class="form-column">
            <label>Type</label>
            <select id="addType"><option>Electricity</option><option>Gas</option><option>Internet</option></select>
            <label>Amount (‚Çπ)</label>
            <input id="addAmount" type="number" step="0.01" />
            <label>Date (month)</label>
            <input id="addDate" type="month" />
            <label>Status</label>
            <select id="addStatus"><option value="false">Unpaid</option><option value="true">Paid</option></select>

            <div class="form-actions">
              <button id="addSave" class="btn primary" type="button">Save</button>
              <button id="addClear" class="btn ghost" type="button">Clear</button>
            </div>
          </form>
        </div>
      </section>

      <section id="viewHistory" class="view hidden">
        <div class="card">
          <h3>All Bills</h3>
          <div class="filters-inline">
            <select id="filterType"><option value="All">All</option><option>Electricity</option><option>Gas</option><option>Internet</option></select>
            <input id="filterFrom" type="month" />
            <input id="filterTo" type="month" />
            <button id="applyFilter" class="btn">Apply</button>
            <button id="resetFilter" class="btn ghost">Reset</button>
          </div>

          <div class="table-wrap">
            <table id="billsTable">
              <thead><tr><th>Type</th><th>Amount</th><th>Month</th><th>Status</th><th>Actions</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="viewExport" class="view hidden">
        <div class="card">
          <h3>Export / Import</h3>
          <div class="form-inline">
            <button id="exportCSV" class="btn primary">Export CSV</button>
            <button id="exportJSON" class="btn">Export JSON</button>
            <button id="importJSON" class="btn">Import JSON</button>
            <input id="importFile" type="file" accept=".json" style="display:none" />
            <button id="clearAll" class="btn ghost">Clear All Data</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
